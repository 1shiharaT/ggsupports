!function(t){"use strict";t.fn.multiAccordion=function(){t(this).addClass("ui-accordion ui-accordion-icons ui-widget ui-helper-reset").find("h3").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-top ui-corner-bottom").hover(function(){t(this).toggleClass("ui-state-hover")}).prepend('<span class="ui-icon ui-icon-triangle-1-e"></span>').click(function(){return t(this).toggleClass("ui-accordion-header-active ui-state-active ui-state-default ui-corner-bottom").find("> .ui-icon").toggleClass("ui-icon-triangle-1-e ui-icon-triangle-1-s").end().next().toggleClass("ui-accordion-content-active").slideToggle(100),!1}).next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").css("display","block").hide().end().trigger("click")}}(jQuery),function(t){"use strict";function e(e,i){var n=t(".wpa-message-"+e);i&&n.html(i);var o="message-aleady";n.fadeIn(),clearTimeout(a),n.hasClass(o)||(a=setTimeout(function(){n.fadeOut("500")},800))}function i(){t(o).removeAttr("disabled")}function n(){var e=location.hash;t("#wpa_tabs").tabs("enable",e).addClass("ui-tabs-vertical ui-helper-clearfix")}var a,o="#wpa-submit";t(document).change("#wpa_settings_form *",function(){i()});var s=!0;t(document).on("click",o,function(i){if(i.preventDefault(),!1===s)return!1;s=!1;var n=t(this);t("#wpa_tabs ul").find(".spinner").show(),console.log(t("#wpa_settings_form").serializeArray()),t.ajax({type:"post",url:ajaxurl,data:{action:wpaSETTINGS.action,_wp_nonce:wpaSETTINGS._wp_nonce,form:t("#wpa_settings_form").serializeArray()},success:function(i){1==i?(t("#wpa_tabs ul").find(".spinner").hide(),e("success"),n.attr("disabled","disabled")):(t("#wpa_tabs ul").find(".spinner").hide(),e("faild")),s=!0}})}),t(document).on("click",".wpa-browse",function(e){e.preventDefault();var n=t(this),a=null;return a?(a.open(),!1):(a=wp.media.frames.file_frame=wp.media({title:n.data("uploader_title"),button:{text:n.data("uploader_button_text")},multiple:!1}),a.on("select",function(){var t=a.state().get("selection").first().toJSON();i(),n.prev(".wpa-url").val(t.url)}),void a.open())}),t(function(){window.addEventListener("hashchange",n,!1),t(".acoordion").multiAccordion({animate:100,autoHeight:!1,heightStyle:"content"}),t("#wpa_tabs").tabs().addClass("ui-tabs-vertical ui-helper-clearfix"),t("#wpa_tabs ul li a").on("click",function(){location.hash=t(this).attr("href"),window.scrollTo(0,0)}),t(".form-group-radiobox").buttonset(),t("#wpa-submit").attr("disabled","disabled")})}(jQuery),function(t){"use strict";t(function(){var e=t("#wpadashboard");t("#dashboard-widgets-wrap").prepend(e),t("#wpa_dashboard_widget").remove()})}(jQuery),function(t){"use strict";function e(e){var i={};return"undefined"==typeof e?!1:(t.each(e,function(e){t(this).find(".wp-menu-name").find(".pending-count").remove(),t(this).find(".wp-menu-name").find(".plugin-count").remove();var n=t(this).find(".wp-menu-name").text(),a=t(this).attr("id");i[e]={menuName:n,menuID:a}}),i)}function i(){var e=t("#wpa_admin_menus input"),i=[];t.each(e,function(e){"checked"==t(this).attr("checked")&&(i[e]=t(this).val())}),t("#admin_menu_hidden").val(i.join(","))}t(function(){var n=t("#wpa_admin_menus"),a=t("#adminmenu > li"),o=e(a),s=wpa_ADMIN_MENU.menus.split(",");t.each(o,function(){if(this.menuID&&this.menuName){var e="";t.inArray(this.menuID,s)>=0&&(e=' checked="checked"'),n.append('<div class="menu-list-item"><input type="checkbox" name="wpaupports_checkobox[]" value="'+this.menuID+'" '+e+'/><span class="menu-list-item-text"> '+this.menuName+'</span><input type="text" class="menu-list-item-text_input" name="wpaupports_checkobox['+this.menuID+']" value="'+this.menuName.trim()+'" /><button class="menu-list-item-text-save" style="display: none"><span class="dashicons dashicons-yes"></span> </button></div>')}}),i()}),t(document).on("click","#wpa_admin_menus input",function(){i()}),t(document).on("click",".menu-list-item-text",function(e){t(this).hasClass("on")?t(this).next(".menu-list-item-text_input").attr("class")!==t(e.target).attr("class")&&(t(this).removeClass("on"),t(this).text(t(this).find(".menu-list-item-text_input").val()),t(this).show(),t(this).next(".menu-list-item-text_input").hide()):(t(this).addClass("on"),t(this).hide(),t(this).next(".menu-list-item-text_input").show(),t(this).next(".menu-list-item-text_input").next().show())}),t(document).on("click",".menu-list-item-text-save",function(e){e.preventDefault(),t(this).hide(),t(this).prev().hide(),t(this).prev().prev().show()})}(jQuery),function(t){function e(e){return e?(e=t(".post-count-"+e),void e.text("0")):!1}var i,n=function(e,n){var a=t(".wpa-message-"+e);n&&a.html(n);var o="message-aleady";a.fadeIn(),clearTimeout(i),a.hasClass(o)||(i=setTimeout(function(){a.fadeOut("500")},800))},a=!0;t(document).on("click","#optimize_submit",function(i){if(i.preventDefault(),!1===a)return!1;var o=(t("#wpa_optimize"),{revision:t('input[name="optimize_revision"]:checked').val(),auto_draft:t('input[name="optimize_auto_draft"]:checked').val(),trash:t('input[name="optimize_trash"]:checked').val()});a=!1;var s=t("#optimize_nonce").val();t(".run_optimize").find(".spinner").show(),t.ajax({type:"post",url:ajaxurl,data:{action:"run_optimize",_wp_optimize_nonce:s,selected_action:o},success:function(i){if(t(".run_optimize").find(".spinner").hide(),"faild"==i.status)n("faild","<h3>"+i.html+"</h3>");else{var o=document.createElement("div"),s=document.createElement("h3");i.optimize_revision&&(t(o).append(t(s).text(t(s).text()+i.optimize_revision)),e("revision")),i.optimize_auto_draft&&(t(o).append(t(s).text(t(s).text()+i.optimize_auto_draft)),e("auto_draft")),i.optimize_trash&&(t(o).append(t(s).text(t(s).text()+i.optimize_trash)),e("trash")),t(o).length>0&&n("optimize",t(o))}a=!0}})})}(jQuery),function(t){"use strict";var e="#tools_option_import",i="tools_option_import_file",n="#tools_option_import_data";t(document).on("change","#"+i,function(){var e=new FileReader,a=document.getElementById(i).files[0];e.onload=function(){t(n).val(e.result)},e.readAsText(a)}),t(document).on("click",e,function(e){e.preventDefault();var i=t(n).val(),a=/^a:.*;}$/;if(!i.match(a))return alert("有効なファイルではありません。ファイルが正しいか確認してください。"),!1;var o=t("#tools_option_import_nonce").val();t.ajax({type:"post",url:ajaxurl,data:{action:"wpa_option_import",wp_import_nonce:o,import_data:i},success:function(t){return console.log(t),"1"===t?(alert("オプションを更新しました"),location.reload(),!0):void 0}})})}(jQuery);